{% extends "_layout_clean.html" %}

{% block title %}Detalle del Producto - COAST{% endblock %}

{% block css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/Detalles.css') }}">
{% endblock %}

{% block content %}

<div class="container">

  <div class="product-image">
    <img src="{{ url_for('static', filename='img/' ~ producto.img) }}" alt="{{ producto.nombre }}">
  </div>

  <div class="product-info">
    <h1>{{ producto.nombre }}</h1>
    <p class="price">${{ "{:,.0f}".format(producto.precio) }}</p>

  <p class="discount">
    ${{ "{:,.0f}".format(producto.precio_descuento) }} con transferencia bancaria
  </p>


    <p class="details">
      {{ producto.detalles }}
    </p>

    <!--esto -->
    <div class="options">
      <label for="color">Color</label>
      <select id="color" name="color">
        <option>Blanco</option>
        <option>Negro</option>
        <option>Beige</option>
      </select>
    </div> 

    <div class="options">
      <label for="cantidad">Cantidad</label>
      <input type="number" id="cantidad" name="cantidad" value="1" min="1">
    </div>

    <button class="btn" onclick="agregarCarrito({{ producto.id }})">
  AGREGAR AL CARRITO
</button>

<script>
function agregarCarrito(id) {
  const cantidad = document.getElementById("cantidad").value;

  let data = new FormData();
  data.append("id", id);
  data.append("cantidad", cantidad);

  queryAjax("/ajax/agregar_carrito", "", "POST", data);

  alert("Producto agregado al carrito");
}
</script>


  </div>

</div>

{% endblock %}
