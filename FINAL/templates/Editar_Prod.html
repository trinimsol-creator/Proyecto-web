{% extends "_layout_flex.html" %}

{% block title %}Editar Producto{% endblock %}

{% block css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/EditarProd.css') }}">
{% endblock %}

{% block content %}
<div class="product-form"> 
    <h1>Editar Producto</h1>

    <form id="Myform" method="POST" action="{{ url_for('editar_producto', id=producto.id) }}" enctype="multipart/form-data">

        <div class="campo">
            <input type="text" name="nombre" id="nombre" placeholder="Nombre del producto"
                value="{{ producto.nombre if producto else '' }}">
        </div>

        <div class="campo">
            <input type="number" name="precio" id="precio" placeholder="Precio"
                value="{{ producto.precio if producto else '' }}" step="any">
        </div>

        <div class="campo">
            <input type="text" name="detalles" id="detalles" placeholder="Detalles del producto"
                value="{{ producto.detalles if producto else '' }}">
        </div>

        <div class="campo">
            <select id="selLoc" name="categoria">
                <option value="" disabled {% if not producto %}selected{% endif %}>Categor√≠a</option>
                <option value="Tops y Bodys" {% if producto and producto.categoria == 'Top' %}selected{% endif %}>Tops y Bodys</option>
                <option value="Polleras y Shorts" {% if producto and producto.categoria == 'Polleras' %}selected{% endif %}>Polleras y Shorts</option>
                <option value="Vestidos" {% if producto and producto.categoria == 'Vestidos' %}selected{% endif %}>Vestidos</option>
                <option value="Accesorios" {% if producto and producto.categoria == 'Accesorios' %}selected{% endif %}>Accesorios</option>
            </select>
        </div>

        <div class="campo doble">
            <select name="stock">
                <option value="Stock" {% if producto.stock == 'Stock' %}selected{% endif %}>Stock</option>
                <option value="Sin stock" {% if producto.stock == 'Sin stock' %}selected{% endif %}>Sin stock</option>
            </select>

            <select name="estado" id="estado">
                <option value="visible" {% if producto.estado == 'visible' %}selected{% endif %}>Visible</option>
                <option value="no visible" {% if producto.estado == 'no visible' %}selected{% endif %}>No visible</option>
            </select>
        </div>

        <fieldset id="color">
            <legend>Color</legend>
            <input type="radio" id="color-n" name="color" value="Negro" 
                {% if producto and producto.color == 'n' %}checked{% endif %}> 
            <label for="color-n">Negro</label>

            <input type="radio" id="color-b" name="color" value="Blanco"
                {% if producto and producto.color == 'b' %}checked{% endif %}>
            <label for="color-b">Blanco</label>

            <input type="radio" id="color-r" name="color" value="Rojo"
                {% if producto and producto.color == 'Rojo' %}checked{% endif %}>
            <label for="color-r">Rojo</label>

            <input type="radio" id="color-a" name="color" value="Azul"
                {% if producto and producto.color == 'Azul' %}checked{% endif %}>
            <label for="color-a">Azul</label>
  
            
        </fieldset>

        <div class="campo">
            <label for="arch01">Foto del producto:</label>
            <input type="file" name="archivo" id="arch01">
            {% if producto and producto.imagen %}
                <p class="imagen-actual">Imagen actual: {{ producto.img }}</p>
            {% endif %}
        </div>

        <button type="submit" class="enviar">Editar Producto</button>

        <span id="mensaje" class="mensaje-final"></span>

    </form>
</div>
{% endblock %}

{% block js %}
<script src="{{ url_for('static', filename='js/EditarProd.js') }}"></script>
{% endblock %}
